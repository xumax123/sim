<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>海口飞行部员工今日生日</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    h1{
        text-align: center;
    }
    .copyright{
        text-align: right;
        color:gainsboro;
    }
    .birthDay{
        border-style:double;
        border-color:cornflowerblue;
        border-width: 3px;
        padding: 10px;
        border-radius: 12px;
    }
    </style>
    <script src="birthDay.js"></script>
    <script src="jQuery.min.js"></script>
</head>
<body>
    <h1>海口飞行部今日生日</h1>
    <div class="birthDay">
    <h2 id="today">今天是：</h2>
    </div>
    <script>
$(function(){
    var today=new Date();
    $("#today").append(today.getFullYear()+"年"+(today.getMonth()+1)+"月"+today.getDate()+"日<br /> ");
    var pilotsData=[];
    for(var i=0;i<birthDay.length;i++){
        var data=birthDay[i];
        var birth=new Date(data[2]);
        //$("#today").append(birth.getMonth()+"月"+birth.getDate()+"<br />");
        if(today.getDate()==birth.getDate()&&
        today.getMonth()==birth.getMonth()){
            pilotsData.push(data);
        }
    } 
    for(var i=0;i<pilotsData.length;i++){
        var birth=new Date(pilotsData[i][2]);
        var work=new Date(pilotsData[i][3]);
       // var today=new Date();
        var str=pilotsData[i][1]+"("+pilotsData[i][0]+") ("+
        pilotsData[i][4]+")<br />"+
        birth.getFullYear()+"年出生，现"+
        (today.getFullYear()-birth.getFullYear())+"岁<br />"+
        work.getFullYear()+"年"+work.getMonth()+"月参加工作，共工作"+
        (today.getFullYear()-work.getFullYear())+"年<br />";
         $(".birthDay"). append(str+"<br />")
    }
    if(pilotsData.length<1){
        $(".birthDay"). append("今天没有人过生日！ <br /><br />")
    }
    $(".birthDay"). append("<div class='copyright'>海口飞行部安技室数据化小组设计<br />2019年01月31日<br />2019年03月14日更新名单错误</div>")
})

    </script>
</body>
</html>